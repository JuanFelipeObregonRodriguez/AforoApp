(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(5),c=n.n(r),i=(n(20),n(9)),s=n(10),l=n(13),u=n(11),d=n(14),f=n(12),m=function(e){var t=e.person;return o.a.createElement("h1",null,t)},v=(n(34),n(32),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).videoRef=o.a.createRef(),e.canvasRef=o.a.createRef(),e.detectFrame=function(t,n){n.detect(t).then(function(a){e.renderPredictions(a),requestAnimationFrame(function(){e.detectFrame(t,n)})})},e.renderPredictions=function(t){var n=e.canvasRef.current.getContext("2d");n.clearRect(0,0,n.canvas.width,n.canvas.height);var a="16px sans-serif";n.font=a,n.textBaseline="top";var o=0;e.setState({count:0}),t.forEach(function(t){var r=t.bbox[0],c=t.bbox[1],i=t.bbox[2],s=t.bbox[3];n.strokeStyle="#00FFFF",n.lineWidth=4,n.strokeRect(r,c,i,s),n.fillStyle="#00FFFF";var l=n.measureText(t.class).width,u=parseInt(a,10);n.fillRect(r,c,l+4,u+4);"person"==t.class&&o++,e.setState({count:o}),console.log(e.state.count)}),t.forEach(function(e){var t=e.bbox[0],a=e.bbox[1];n.fillStyle="#000000",n.fillText(e.class,t,a)})},e.state={count:0},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var t=navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}}).then(function(t){return window.stream=t,e.videoRef.current.srcObject=t,new Promise(function(t,n){e.videoRef.current.onloadedmetadata=function(){t()}})}),n=f.a();Promise.all([n,t]).then(function(t){e.detectFrame(e.videoRef.current,t[0])}).catch(function(e){console.error(e)})}}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(m,{person:this.state.count}),o.a.createElement("div",null,o.a.createElement("video",{className:"size",autoPlay:!0,playsInline:!0,muted:!0,ref:this.videoRef,width:"600",height:"500"}),o.a.createElement("canvas",{className:"size",ref:this.canvasRef,width:"600",height:"500"})))))}}]),t}(o.a.Component)),h=document.getElementById("root");c.a.render(o.a.createElement(v,null),h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[15,1,2]]]);
//# sourceMappingURL=main.9e1ca09d.chunk.js.map